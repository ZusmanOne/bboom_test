# Тестовое задание в виде мини-блога


## Описание задания

-  Создание Django Моделей: 
    - Post с полями (title, body, user) 
    - User с полями id (уникальный идентификатор), name (имя пользователя), email (электронная почта пользователя)
- Создание API: 
    - Создайте несколько API-конечных пунктов. Первый должен возвращать список всех пользователей, второй - список всех постов конкретного пользователя, третий - добавление нового поста, четвертый - удаление существующего поста.
- Аутентификация и авторизация: Реализуйте механизм аутентификации и авторизации. Только аутентифицированные 
      пользователи могут добавлять и удалять посты. Пользователи могут удалять только свои посты.
- Тестирование API: Напишите unit-тесты для проверки корректности работы вашего API, включая тесты аутентификации и авторизации.
- Создание пользовательского интерфейса: Создайте пользовательский интерфейс с использованием Django templates, который будет отображать список всех пользователей. При клике на имя пользователя, должен открываться список его постов. Добавьте формы для добавления и удаления постов.
- Проект должен быть создан с использованием Django и Python.
Для создания API используйте Django REST Framework.
Для тестирования API используйте Django Test Client или pytest.
Все данные должны быть сохранены в базе данных SQLite.
Код должен быть размещен на GitHub или Bitbucket и должен включать инструкции по установке и запуску приложения.


### Как запустить проект
Скачайте код:
```sh
git clone https://github.com/ZusmanOne/bboom_test.git
```

Перейдите в каталог проекта:
```sh
cd blog
```
[Установите Python](https://www.python.org/), если этого ещё не сделали.

Проверьте, что `python` установлен и корректно настроен. Запустите его в командной строке:
```sh
python --version
```

В каталоге проекта создайте виртуальное окружение:
```sh
python -m venv venv
```
Активируйте его. На разных операционных системах это делается разными командами:

- Windows: `.\venv\Scripts\activate`
- MacOS/Linux: `source venv/bin/activate`

Установите зависимости в виртуальное окружение:
```sh
pip install -r requirements.txt
```
Настройка: создать файл `.env` в каталоге `blog/` со следующими настройками:

- `DEBUG` — дебаг-режим. Поставьте `True`.
- `SECRET_KEY` — секретный ключ проекта. Он отвечает за шифрование на сайте.Укажите свое значение 
- `ALLOWED_HOSTS` — localhost 127.0.0.1
- `DB_NAME` - 'db.sqlite3'



Применить миграции

```sh
python manage.py migrate
```

Создайте суперюзера
```sh
python manage.py createsuperuser
```

Запустить сервер
```sh
python manage.py runserver
```

Сервис имеют следующую маршрутизацию

```http://127.0.0.1:8000/``` - список всех пользователей

```http://127.0.0.1:8000/users/{pk}/``` - список постов запрошенного пользователя

```http://127.0.0.1:8000/post/delete/{pk}/``` - удаление выбранного поста

```http://127.0.0.1:8000/post/add/``` - добавление поста

```http://127.0.0.1:8000/``` - список всех пользователей

```http://127.0.0.1:8000/api/posts/``` - API для получения всех постов

```http://127.0.0.1:8000/api/posts/{pk}/``` - API для получения конкретного поста

```http://127.0.0.1:8000/api/posts/{username}/``` - API для получения постов запрашиваемого пользователя

```http://127.0.0.1:8000/api/users/``` - API для получения всех пользователей

```http://127.0.0.1:8000/api/users/{pk//``` - API для получения данных запрашиваемого пользователя



***
## Запуск тестов
``` 
pytest blog_app/tests/test_api.py

```
### Сервис так же обернут в докер, что бы запустить проект в докере наберите команду:
[Установите Docker](https://docs.docker.com/engine/install/), если этого ещё не сделали.
``` 
docker-compose up  --build
```


